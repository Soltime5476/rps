<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Paper Scissors</title>
  </head>
  <script>
    function getComputerChoice() {
      const r = Math.random()
      if (r <= 1 / 3) {
        return "rock"
      }
      else if (r <= 2 / 3) {
        return "paper"
      }
      return "scissors"
    }

    function getHumanChoice() {
      const choice = prompt("Enter your choice:").toLowerCase()
      const valid = ["rock", "paper", "scissors"]
      if (valid.includes(choice)) {
        return choice
      }
      alert("Invalid choice!")
    }
    
    function playGame() {
      let humanScore = 0
      let computerScore = 0

      function playRound(humanChoice, computerChoice) {
        let result = `You chose ${humanChoice}, Computer chose ${computerChoice}`
        if (
          (humanChoice == "rock" && computerChoice == "scissors") 
          || (humanChoice == "paper" && computerChoice == "rock") 
          || (humanChoice == "scissors" && computerChoice == "paper")
        ) {
          humanScore += 1
          result += ", You win!"
        }
        else {
          computerScore += 1
          result += ", You lose."
        }
        alert(result)
      }

      for (let i = 0; i < 5; i++) {
        const humanSelection = getHumanChoice();
        const computerSelection = getComputerChoice();
        playRound(humanSelection, computerSelection)
      }

      alert(`Human score: ${humanScore} Computer Score: ${computerScore}`)
    }
    playGame()
  </script>
</html>